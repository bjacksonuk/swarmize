.form-element.pick_several
  .header
    %h2 Pick Several
    = render :partial => "form_partials/element_controls"

  .form-group
    %label.col-sm-3.control-label Field name
    .col-sm-9
      = text_field_tag "fields[][field_name]", field.field_name, :class => 'form-control'

  .form-group
    %label.col-sm-3.control-label Possible values
    .col-sm-9
      .option-list
        - if field.possible_values
          - field.possible_values.each_with_index do |value, i|
            %p{:class => ('input-group' if i > 1)}
              = text_field_tag "fields[]possible_values[]", value, :class => 'form-control'
              - if i > 1
                %span{:class => "input-group-addon"}
                  %a.remove-option{:href => "#"}
                    %span{:class => 'glyphicon glyphicon-remove'}
        - else
          %p
            = text_field_tag "fields[]possible_values[]", nil, :class => 'form-control'
          %p
            = text_field_tag "fields[]possible_values[]", nil, :class => 'form-control'
      %p= link_to "Add another", "#", :class => "add-option"

  .form-group
    %label.col-sm-3.control-label Compulsory?
    .col-sm-9
      = check_box_tag "fields[][compulsory]", field.compulsory, :class => 'form-control'

  .form-group
    %label.col-sm-3.control-label Index
    .col-sm-9
      = text_field_tag "fields[][index]", field['index'], :class => 'form-control', :id => "index"

  .form-group
    %label.col-sm-3.control-label Field type
    .col-sm-9
      = text_field_tag "fields[][field_type]", 'pick_several', :class => 'form-control'
